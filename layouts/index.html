{{ define "main" }}
<h1>{{ .Site.Title }}</h1>
<p>{{ .Site.Params.description }}</p>

<h2 style="margin-top: 2rem;">Upcoming Events</h2>

<style>
  .home-events { list-style: none; display: grid; gap: 1rem; margin-top: 1rem; }
  .home-event-card {
    border: 1px solid var(--color-border);
    border-radius: 8px;
    padding: 1rem;
  }
  .home-event-card.featured { border-left: 4px solid var(--color-featured); }
  .home-event-card h3 { margin-bottom: 0.25rem; }
  .home-event-card h3 a { color: var(--color-text); text-decoration: none; }
  .home-event-card h3 a:hover { color: var(--color-primary); }
  .home-meta { color: var(--color-muted); font-size: 0.875rem; }
</style>

<ul class="home-events">
  {{- range first 5 (where (where .Site.RegularPages "Section" "events") "Params.status" "published") }}
  <li class="home-event-card{{ if .Params.featured }} featured{{ end }}">
    <h3><a href="{{ .Permalink }}">{{ .Params.event_name }}</a></h3>
    <div class="home-meta">
      {{ dateFormat "2 Jan 2006" .Params.event_start_date }} &middot;
      {{ .Params.location_name }}
    </div>
  </li>
  {{- end }}
</ul>

<p style="margin-top: 1.5rem;"><a href="{{ "events/" | relURL }}">View all events &rarr;</a></p>
{{ end }}
